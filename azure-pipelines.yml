# What makes this pipeline run? When code gets checked into master
trigger:
- master

# The build agent will use the latest version of Windows, with all the latest stuff
pool:
  vmImage: 'windows-latest'


# Let's actually deploy our website
steps:

# Copy all the website files to the Azure storage account
- task: AzureFileCopy@3
  inputs:
    SourcePath: '.'
    azureSubscription: 'Visual Studio Professional(a7c01838-8c1a-463f-85db-9b46c88dd664)'
    Destination: 'AzureBlob'
    storage: 'psandlweb'
    ContainerName: '$web'

# Output what we just built, for safe keeping
- task: PowerShell@2
  inputs:
    targetType: 'inline'
    script: 'Write-Host "Published build with $(Build.SourceVersionMessage)"'